--disable_warnings
DROP TABLE IF EXISTS t1;
--enable_warnings

--replace_result $DRIZZLETEST_VARDIR VARDIR
eval CREATE TABLE t1 (a INT) ENGINE=FILESYSTEM,FILE="$DRIZZLETEST_VARDIR/filesystem_ln/multiple_update.data";

connect (con1,localhost,root,,);
connect (con2,localhost,root,,);
connect (con3,localhost,root,,);
connect (con4,localhost,root,,);

connection con1;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;
UPDATE t1 SET a=222 WHERE a=111;
UPDATE t1 SET a=111 WHERE a=222;

connection con2;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;
UPDATE t1 SET a=444 WHERE a=333;
UPDATE t1 SET a=333 WHERE a=444;

connection con3;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;
UPDATE t1 SET a=666 WHERE a=555;
UPDATE t1 SET a=555 WHERE a=666;

connection con4;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;
UPDATE t1 SET a=888 WHERE a=777;
UPDATE t1 SET a=777 WHERE a=888;

connection default;
disconnect con1;
disconnect con2;
disconnect con3;
disconnect con4;

SELECT * FROM t1 ORDER BY a;

DROP TABLE t1;
